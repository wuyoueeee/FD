# åŸºäºæ·±åº¦å­¦ä¹ çš„ç«ç„°|çƒŸé›¾|ç«ç¾è¯†åˆ«ç³»ç»Ÿï¼ˆYOLOï¼‰

**é¡¹ç›®è·å–åœ°å€ï¼š**[https://mbd.pub/o/bread/YZWVlJ9vZg==](https://mbd.pub/o/bread/YZWVlJ9vZg==)
@[TOC]
## é¡¹ç›®è§†é¢‘

[video(video-M3LrMte4-1751992825232)(type-bilibili)(url-https://player.bilibili.com/player.html?aid=114818551913168)(image-https://i-blog.csdnimg.cn/img_convert/8810db8c8be69ef9764bd1ad0c237209.jpeg)(title-åŸºäºæ·±åº¦å­¦ä¹ çš„ç«ç„°|çƒŸé›¾|ç«ç¾è¯†åˆ«ç³»ç»Ÿï¼ˆYOLOï¼‰)]
**é¡¹ç›®è·å–åœ°å€ï¼š**[https://mbd.pub/o/bread/YZWVlJ9vZg==](https://mbd.pub/o/bread/YZWVlJ9vZg==)
## é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºYOLOv8ç›®æ ‡æ£€æµ‹ç®—æ³•çš„ç«ç„°çƒŸé›¾æ£€æµ‹ç³»ç»Ÿã€‚è¯¥ç³»ç»Ÿèƒ½å¤Ÿå®æ—¶æ£€æµ‹å›¾ç‰‡å’Œè§†é¢‘ä¸­çš„ç«ç„°å’ŒçƒŸé›¾ï¼Œä¸ºç«ç¾é¢„è­¦æä¾›æŠ€æœ¯æ”¯æŒã€‚

### ä¸»è¦åŠŸèƒ½

- ğŸ”¥ å®æ—¶æ£€æµ‹ï¼šæ”¯æŒå›¾ç‰‡å’Œè§†é¢‘ä¸­çš„ç«ç„°ã€çƒŸé›¾æ£€æµ‹
- ğŸ¯ é«˜ç²¾åº¦å®šä½ï¼šå‡†ç¡®æ ‡è®°ç«ç„°å’ŒçƒŸé›¾çš„ä½ç½®
- ğŸš€ å¿«é€Ÿå“åº”ï¼šGPUåŠ é€Ÿæ”¯æŒï¼Œå®ç°å®æ—¶æ£€æµ‹
- ğŸ‘€ å¯è§†åŒ–ç•Œé¢ï¼šåŸºäºPyQt6çš„å‹å¥½æ“ä½œç•Œé¢

### æŠ€æœ¯ç‰¹ç‚¹

- é‡‡ç”¨YOLOv8æœ€æ–°ç‰ˆæœ¬ä½œä¸ºæ£€æµ‹ç®—æ³•
- æ”¯æŒGPU/CPUåŒæ¨¡å¼è¿è¡Œ
- å¤šçº¿ç¨‹å¤„ç†ä¿è¯ç•Œé¢æµç•…
- æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•

## ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„

ç³»ç»Ÿé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒæ¨¡å—ï¼š

1. è®­ç»ƒæ¨¡å—ï¼ˆtrain.pyï¼‰ï¼š
   - æ•°æ®åŠ è½½å’Œé¢„å¤„ç†
   - æ¨¡å‹è®­ç»ƒå’ŒéªŒè¯
   - å‚æ•°ä¼˜åŒ–
   - è®­ç»ƒè¿‡ç¨‹ç›‘æ§

2. æ£€æµ‹æ¨¡å—ï¼ˆdetect.pyï¼‰ï¼š
   - å›¾åƒé¢„å¤„ç†
   - ç›®æ ‡æ£€æµ‹å’Œå®šä½
   - ç»“æœåå¤„ç†
   - å¯è§†åŒ–è¾“å‡º

3. ç•Œé¢æ¨¡å—ï¼ˆmain.pyï¼‰ï¼š
   - è®­ç»ƒå‚æ•°é…ç½®
   - æ£€æµ‹ä»»åŠ¡æ§åˆ¶
   - å®æ—¶ç»“æœæ˜¾ç¤º
   - è¿›åº¦çŠ¶æ€åé¦ˆ

### æ•°æ®æµ

```mermaid
graph TD
    A[è¾“å…¥æ•°æ®] --> B[é¢„å¤„ç†æ¨¡å—]
    B --> C[YOLOæ£€æµ‹å™¨]
    C --> D[åå¤„ç†æ¨¡å—]
    D --> E[å¯è§†åŒ–æ¨¡å—]
    E --> F[ç»“æœè¾“å‡º]
```

## ç®—æ³•åŸç†

### YOLOv8ç‰¹ç‚¹

1. ç½‘ç»œç»“æ„ï¼š
   - ä¸»å¹²ç½‘ç»œï¼šCSPDarknet
   - ç‰¹å¾é‡‘å­—å¡”ï¼šPANet
   - æ£€æµ‹å¤´ï¼šDecoupled Head

2. æ ¸å¿ƒæ”¹è¿›ï¼š
   - å¼•å…¥æ³¨æ„åŠ›æœºåˆ¶
   - ä¼˜åŒ–æŸå¤±å‡½æ•°
   - æ”¹è¿›è®­ç»ƒç­–ç•¥
   - å¢å¼ºæ•°æ®å¢å¼º

### æ£€æµ‹æµç¨‹

1. è¾“å…¥å¤„ç†ï¼š
   - å›¾åƒç¼©æ”¾
   - æ•°æ®å½’ä¸€åŒ–
   - æ‰¹æ¬¡å¤„ç†

2. ç‰¹å¾æå–ï¼š
   - å¤šå°ºåº¦ç‰¹å¾
   - ç‰¹å¾èåˆ
   - ç©ºé—´æ³¨æ„åŠ›

3. ç›®æ ‡æ£€æµ‹ï¼š
   - ç”Ÿæˆé¢„æµ‹æ¡†
   - ç½®ä¿¡åº¦è®¡ç®—
   - éæå¤§å€¼æŠ‘åˆ¶

## æ•°æ®é›†è¯´æ˜

### æ•°æ®ç»“æ„

```
datasets/
â”œâ”€â”€ train/  # è®­ç»ƒé›†ï¼ˆ277å¼ ï¼‰
â”œâ”€â”€ val/    # éªŒè¯é›†ï¼ˆ77å¼ ï¼‰
â””â”€â”€ test/   # æµ‹è¯•é›†ï¼ˆ37å¼ ï¼‰
```

### æ•°æ®åˆ†å¸ƒ

- æ€»æ ·æœ¬æ•°ï¼š391å¼ 
- è®­ç»ƒé›†å æ¯”ï¼š70.8%
- éªŒè¯é›†å æ¯”ï¼š19.7%
- æµ‹è¯•é›†å æ¯”ï¼š9.5%

### æ ‡æ³¨æ ¼å¼

é‡‡ç”¨YOLOæ ¼å¼ï¼š
```
<class_id> <x_center> <y_center> <width> <height>
```
- class_id: ç±»åˆ«IDï¼ˆ0:ç«ç„°ï¼Œ1:çƒŸé›¾ï¼‰
- x_center, y_center: ç›®æ ‡ä¸­å¿ƒç‚¹åæ ‡ï¼ˆå½’ä¸€åŒ–åˆ°0-1ï¼‰
- width, height: ç›®æ ‡æ¡†å®½é«˜ï¼ˆå½’ä¸€åŒ–åˆ°0-1ï¼‰

## ä»£ç ç»“æ„

### æ ¸å¿ƒæ–‡ä»¶

```
project/
â”œâ”€â”€ train.py      # è®­ç»ƒæ¨¡å—
â”œâ”€â”€ detect.py     # æ£€æµ‹æ¨¡å—
â”œâ”€â”€ main.py       # ç•Œé¢æ¨¡å—
â””â”€â”€ requirements.txt
```

### ä¾èµ–é…ç½®

```
ultralytics==8.3.162
torch==2.1.2+cu118
opencv-python>=4.8.0
PyQt6>=6.4.0
```

## å®ç°ç»†èŠ‚

### è®­ç»ƒæ¨¡å—å®ç°

```python
def train(self, epochs=100, imgsz=640, batch_size=16):
    self.model.train(
        data=self.data_yaml,
        epochs=epochs,
        imgsz=imgsz,
        batch=batch_size,
        device=device
    )
```

### æ£€æµ‹æ¨¡å—å®ç°

```python
def detect_image(self, image_path, conf_thres=0.25):
    results = self.model.predict(
        image_path,
        conf=conf_thres
    )[0]
    return results
```

## ä½¿ç”¨è¯´æ˜

### ç¯å¢ƒé…ç½®

1. å…‹éš†é¡¹ç›®
```bash
git clone <project_url>
cd fire-smoke-detection
```

2. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

3. å‡†å¤‡æ•°æ®
   - ä¸‹è½½æ•°æ®é›†
   - æ•´ç†æ•°æ®ç»“æ„
   - æ£€æŸ¥æ ‡æ³¨æ–‡ä»¶

### ä½¿ç”¨æ­¥éª¤

1. å¯åŠ¨ç¨‹åº
```bash
python main.py
```

2. æ¨¡å‹è®­ç»ƒ
   - è®¾ç½®è®­ç»ƒå‚æ•°
   - é€‰æ‹©è®­ç»ƒè®¾å¤‡
   - å¼€å§‹è®­ç»ƒ

3. ç›®æ ‡æ£€æµ‹
   - åŠ è½½æ¨¡å‹
   - é€‰æ‹©å›¾ç‰‡/è§†é¢‘
   - æ‰§è¡Œæ£€æµ‹

## æ€§èƒ½è¯„ä¼°

### è®­ç»ƒæŒ‡æ ‡

| æŒ‡æ ‡ | åˆå§‹å€¼ | æœ€ç»ˆå€¼ |
|------|--------|--------|
| box_loss | 2.25 | 0.85 |
| cls_loss | 3.74 | 0.62 |
| mAP50 | 5.5% | 35.9% |
| mAP50-95 | 2.1% | 11.1% |

### æ£€æµ‹æ€§èƒ½

| è®¾å¤‡ | FPS | å‡†ç¡®ç‡ |
|------|-----|--------|
| GPU | ~30 | >85% |
| CPU | ~5 | >85% |

